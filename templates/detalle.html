<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ producto.titulo }} - CuriSong</title>
    
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/detalle.css') }}">
</head>
<body>

<body>
<div id="loader">
    <div class="spinner">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
        <div class="bar4"></div>
        <div class="bar5"></div>
    </div>
    <p>Cargando CuriSong...</p>
</div>
    <div class="main-detalle" 
         data-id="{{ producto.id }}" 
         data-titulo="{{ producto.titulo }}"
         data-precio="{{ producto.precio }}"
         data-imagen="{{ url_for('static', filename=producto.imagen.replace('../static/', '')) }}">

        <div class="producto-contenedor">
            
            <div class="columna-izquierda">
                <div class="producto-imagen-caja">
                    <img class="producto-imagen-principal" src="{{ url_for('static', filename=producto.imagen.replace('../static/', '')) }}" alt="Portada de {{ producto.titulo }}">
                </div>
            </div>

            <div class="columna-derecha">
                <div class="producto-info">
                    <span class="producto-categoria">{{ producto.categoria.nombre }}</span>
                    <h1 class="producto-titulo">{{ producto.titulo }}</h1>
                    <h2 class="producto-artista">{{ producto.artista }}</h2>

                    {% if producto.descripcion %}
                        <p class="producto-descripcion">{{ producto.descripcion }}</p>
                    {% else %}
                        <p class="producto-descripcion">El álbum clásico de {{ producto.artista }}, una pieza esencial para cualquier coleccionista de música.</p>
                    {% endif %}

                    <div class="precio-y-stock">
                        {% if producto.precio %}
                            <p class="producto-precio">${{ producto.precio }}</p>
                        {% endif %}
                        <span class="producto-stock">✓ En Stock</span>
                    </div>

                    <div class="acciones-compra">
                        <div class="control-cantidad">
                            <button class="btn-cantidad" aria-label="Disminuir cantidad">-</button>
                            <input type="text" class="input-cantidad" value="1" readonly>
                            <button class="btn-cantidad" aria-label="Aumentar cantidad">+</button>
                        </div>
                        <button class="btn-agregar-carrito"><i class="bi bi-cart-plus-fill"></i> Agregar al Carrito</button>
                    </div>

                    {% if producto.tracklist %}
                    <div class="tracklist">
                        <h3>Lista de Canciones</h3>
                        <ul>
                            {% for cancion in producto.tracklist %}
                            <li>
                                <span>{{ loop.index }}. {{ cancion.nombre }}</span>
                                <span>{{ cancion.duracion }}</span>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                    {% endif %}
                    
                    <a href="{{ url_for('routes.home') }}" class="btn-volver" style="margin-top: 2rem; text-align: center;">Volver a la Tienda</a>
                </div>
            </div>
        </div>

        <div class="sugerencias">
        <h3>También te podría gustar</h3>
        <div class="sugerencias-grid">
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/casset/09.jpg') }}" alt="Sugerencia 1">
                <p>Abbey Road</p>
                <span>$13000</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/casset/02.jpg') }}" alt="Sugerencia 2">
                <p>Donda 2</p>
                <span>$17000</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/cd/04.jpg') }}" alt="Sugerencia 3">
                <p>Los Sentimientos de un Robot</p>
                <span>$15000</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/vinilos/19.jpg') }}" alt="Sugerencia 4">
                <p>Master of Puppets</p>
                <span>$24000</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/casset/10.jpg') }}" alt="Sugerencia 5">
                <p>El Mal Querer</p>
                <span>$14200</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/cd/05.jpg') }}" alt="Sugerencia 6">
                <p>Sour</p>
                <span>$13000</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/casset/16.jpg') }}" alt="Sugerencia 7">
                <p>Bad</p>
                <span>$17000</span>
            </a>
            <a href="#" class="sugerencia-card">
                <img src="{{ url_for('static', filename='img/casset/07.jpg') }}" alt="Sugerencia 8">
                <p>X100pre</p>
                <span>$13000</span>
            </a>
        </div>
    </div>


    </div>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script> 
    <script src="{{ url_for('static', filename='js/detalle.js') }}"></script>

</body>
</html>