@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800;900&display:swap');
@import url('https://fonts.googleapis.com/css?family=Abel');

/* =================================================================== */
/* 1. Variables Globales (Root)
/* =================================================================== */
:root {
    --clr-main: #3d74b6;
    --clr-main-light: #ecfbde;
    --clr-white: #defbe7;
    --clr-celeste: #afcfd8;
    --clr-purple: #320A6B;
    --carousel-height: 225px;
    --primary-color: #007bff;
    --text-color-light: #f8f9fa;
    --transition-speed: 0.8s;
    --ken-burns-duration: 20s;
}

/* =================================================================== */
/* 2. Estilos Globales y Reseteo
/* =================================================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Rubik', sans-serif;
}

h1, h2, h3, h4, h5, h6, p, a, input, textarea, ul {
    margin: 0;
    padding: 0;
}

ul {
    list-style-type: none;
}

a {
    text-decoration: none;
}

.disabled {
    display: none;
}

/* =================================================================== */
/* 3. Animación de Carga (Loader)
/* =================================================================== */
#loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #3D74B6;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 9999;
    transition: opacity 0.5s ease-out;
}

#loader p {
    color: #fff;
    margin-top: 20px;
    font-family: sans-serif;
    font-size: 1.2em;
}

.spinner {
    display: flex;
    justify-content: space-around;
    align-items: flex-end;
    width: 80px;
    height: 60px;
}

.spinner div {
    background-color: #0056b3;
    width: 10px;
    height: 100%;
    border-radius: 5px;
    animation: equalizer 1.2s infinite ease-in-out;
}

.spinner .bar2 { animation-delay: -1.1s; }
.spinner .bar3 { animation-delay: -1.0s; }
.spinner .bar4 { animation-delay: -0.9s; }
.spinner .bar5 { animation-delay: -0.8s; }

@keyframes equalizer {
    0%, 40%, 100% {
        transform: scaleY(0.1);
    }
    20% {
        transform: scaleY(1.0);
    }
}

/* =================================================================== */
/* 4. Layout Principal (Mobile-First por defecto)
/* =================================================================== */
.wrapper {
    display: grid;
    grid-template-columns: 1fr 4fr;
    background-color: var(--clr-main);
    min-height: 100vh; /* <-- AÑADE ESTA LÍNEA */
}

aside {
    padding: 2rem;
    padding-right: 0;
    color: var(--clr-white);
    position: sticky;
    top: 0;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background-color: var(--clr-main);
    /* Estilos de Menú Móvil (Oculto por defecto) */
    position: fixed;
    z-index: 9;
    left: 0;
    box-shadow: 0 0 0 100vmax rgba(0, 0, 0, .75);
    transform: translateX(-100%);
    opacity: 0;
    visibility: hidden;
    transition: .5s;
}

aside.aside-visible {
    transform: translateX(0);
    opacity: 1;
    visibility: visible;
}

aside nav {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    flex-grow: 1;
    overflow-y: hidden;
    overflow-x: hidden;
}

main {
    position: relative;
    background-color: var(--clr-white);
    margin: 1rem;
    border-radius: 2rem;
    padding: 3rem;
}

/* =================================================================== */
/* 5. Componentes
/* =================================================================== */

/* --- 5.1 Aside y Navegación (Estilos base) --- */
.logo {
    font-weight: 400;
    font-size: 1.3rem;
    transition: transform 0.4s ease, filter 0.4s ease;
}

.logo img:hover {
    transform: scale(1) rotate(10deg);
    filter: brightness(1.2);
}

.menu {
    display: flex;
    flex-direction: column;
    gap: .5rem;
}
.menu-text {
    display: none;
}
.boton-menu {
    background-color: transparent;
    border: 0;
    color: var(--clr-white);
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 1rem;
    font-weight: 600;
    padding: 1rem;
    font-size: 1.2rem;
    width: 100%;
    transition: transform 0.2s ease;
    margin-left: 1rem;
}

.boton-menu:hover {
    transform: scale(1.1);
}

.boton-menu.active {
    background-color: var(--clr-white);
    color: var(--clr-main);
    border-top-left-radius: 1rem;
    border-bottom-left-radius: 1rem;
    position: relative;
    margin-left: 1rem;
}

.boton-menu.active::before {
    content: '';
    position: absolute;
    width: 1rem;
    height: 2rem;
    bottom: 100%;
    right: 0;
    background-color: transparent;
    border-bottom-right-radius: .5rem;
    box-shadow: 0 1rem 0 var(--clr-white);
}

.boton-menu.active::after {
    content: '';
    position: absolute;
    width: 1rem;
    height: 2rem;
    top: 100%;
    right: 0;
    background-color: transparent;
    border-top-right-radius: .5rem;
    box-shadow: 0 -1rem 0 var(--clr-white);
}

.boton-menu > i.bi-hand-index-thumb-fill,
.boton-menu > i.bi-hand-index-thumb {
    transform: rotateZ(90deg);
}

.numerito {
    background-color: var(--clr-white);
    color: var(--clr-main);
    padding: .15rem .25rem;
    border-radius: .25rem;
}

.boton-carrito.active .numerito {
    background-color: var(--clr-main);
    color: var(--clr-white);
}

.texto-footer {
    color: var(--clr-main-light);
    font-size: .85rem;
    margin-left: 2.8rem;
}

/* --- 5.2 Contenido Principal (Títulos, Secciones) --- */
.titulo-principal {
    margin-bottom: 1.5rem;
    text-align: center;
}

.titulo-bienvenida {
    color: var(--clr-main);
    text-align: center;
    margin: 0;
}

.contenedor-titulo {
    display: flex;
    width: 100%;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    box-sizing: border-box;
}

.ovni-deco {
    width: 150px;
    height: auto;
}

.bienvenida {
    color: var(--clr-main);
    text-align: center;
}

.seccion-destacados {
    margin-bottom: 2rem;
}

.titulo-seccion {
    /* Nuevo diseño más integrado */
    font-size: 1.6rem; /* Lo ajustamos un poco */
    font-weight: 700;  /* Lo hacemos más grueso */
    color: var(--clr-white); /* Usamos el color de texto de tu paleta */
    background-color: var(--clr-main); /* Usamos el azul principal */
    
    padding: 0.75rem 1.5rem; /* Espaciado interno */
    border-radius: 1rem;    /* Bordes redondeados */
    margin-bottom: 2rem;    /* Le damos más espacio abajo */
    
    display: inline-block; /* Hacemos que el fondo se ajuste al texto */
    box-shadow: 0 4px 12px rgba(0,0,0,0.1); /* Sombra sutil */

    /* Anulamos el estilo anterior */
    border-left: none;
    padding-left: 1.5rem; /* Le devolvemos el padding pero sin la barra */
    text-align: left;
}

.main-header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
    gap: 1rem;
}

#seccion-tendencias {
    margin-top: 1.5rem;
}

.titulo-principal-container {
    padding: 0 1rem;
    margin-top: 1rem;
}

/* --- 5.3 Carrusel --- */
.carousel {
    position: relative;
    width: 100%;
    max-width: none;
    margin: 2rem auto;
    overflow: hidden;
    border-radius: 10px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.carousel-container {
    position: relative;
    width: 100%;
    height: var(--carousel-height);
}

.slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-speed) ease-in-out, visibility 0s var(--transition-speed);
    overflow: hidden;
}

.slide.active {
    opacity: 1;
    visibility: visible;
    transition: opacity var(--transition-speed) ease-in-out;
}

.slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    animation: kenburns var(--ken-burns-duration) ease-out infinite alternate;
}

@keyframes kenburns {
    0% { transform: scale(1) translate(0, 0); }
    100% { transform: scale(1.1) translate(2px, -2px); }
}

.slide-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 1rem 1.5rem;
    color: var(--text-color-light);
    background: linear-gradient(to top, rgba(0, 0, 0, 0.85), transparent);
    box-sizing: border-box;
    transform: translateY(100%);
    transition: transform 0.6s ease-out;
}

.slide.active .slide-content {
    transform: translateY(0);
    transition-delay: 0.3s;
}

.slide-content h2 {
    font-size: 1.5rem;
    margin: 0 0 0.25rem;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
}

.slide-content p {
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
    display: none;
}

.cta-button {
    padding: 5px 12px;
    font-size: 0.8rem;
    background-color: var(--primary-color);
    color: var(--text-color-light);
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.3s;
    cursor: pointer;
}

.cta-button:hover {
    background-color: #0056b3;
    transform: translateY(-2px);
}

.prev,
.next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.3);
    color: white;
    border: none;
    cursor: pointer;
    padding: 10px;
    font-size: 18px;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s, background-color 0.3s;
    z-index: 10;
}

.carousel:hover .prev,
.carousel:hover .next {
    opacity: 1;
}

.prev { left: 15px; }
.next { right: 15px; }

.prev:hover,
.next:hover {
    background-color: rgba(0, 0, 0, 0.6);
}

.indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    z-index: 10;
}

.dot {
    width: 10px;
    height: 10px;
    margin: 0 4px;
    background-color: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.3s;
}

.dot.active,
.dot:hover {
    background-color: var(--text-color-light);
}


/* --- 5.4 Buscador y Filtros --- */
.search-container {
    display: flex;
    gap: 0.5rem;
    background-color: white;
    border-radius: 50px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 6px;
    width: 100%;
    max-width: 600px;
}

.filtro-wrapper {
    display: flex;
    align-items: center;
    padding: 0 10px;
    border-right: 1px solid #e0e0e0;
    flex-shrink: 0;
}

.filtro-wrapper i {
    color: #999;
    font-size: 1.1rem;
    margin-right: 8px;
}

.search-wrapper {
    display: flex;
    flex-grow: 1;
    min-width: 200px;
}

.filtro-genero {
    border: none;
    outline: none;
    background: transparent;
    cursor: pointer;
    font-family: 'Rubik', sans-serif;
    font-size: 14px;
    color: #555;
    padding-right: 1rem;
    max-width: 140px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
}

.filtro-genero[size] {
    position: absolute;
    margin-top: 5px;
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 0.5rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    padding: 0.5rem;
    z-index: 10;
    max-width: 250px;
    max-height: 200px;
    overflow: auto;
}

.search-input {
    width: 100%;
    border: none;
    outline: none;
    background: transparent;
    padding: 6px 10px;
    font-size: 14px;
    white-space: nowrap; 
    overflow: hidden;
    text-overflow: ellipsis;
}

.search-button {
    background: #3D74B6;
    border: none;
    color: white;
    padding: 6px 10px;
    margin-left: 6px;
    border-radius: 50px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.3s;
}

.search-button:hover {
    background: #0056b3;
}


/* --- 5.5 Tarjetas de Producto --- */
.contenedor-productos {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 1rem;
}

.producto {
    display: flex;
    flex-direction: column;
    border-radius: 1rem;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.producto:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(55, 0, 255, 0.6);
    cursor: pointer;
}

.producto-imagen {
    width: 100%;
    aspect-ratio: 1 / 1; /* <-- Forzar a que sea cuadrada */
    object-fit: cover;
    border-radius: 1rem;
}

.producto-detalles {
    background-color: var(--clr-main);
    color: var(--clr-white);
    padding: 1rem;
    margin-top: -2rem;
    position: relative;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
}

.producto-titulo {
    font-size: 1rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.producto-genero {
    font-size: 0.8rem;
    font-weight: 400;
    color: rgba(222, 251, 231, 0.85);
    margin-top: 0.1rem;
    margin-bottom: 0.4rem;
}

.producto-acciones {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
    padding-top: .5rem;
}

.producto-ver-detalles {
    background-color: var(--clr-white);
    color: var(--clr-main);
    border: 2px solid var(--clr-white);
    padding: .4rem 1rem;
    border-radius: 2rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    cursor: pointer;
    transition: all 0.3s ease;
}

.producto-agregar {
    background-color: var(--clr-white);
    color: var(--clr-main);
    border: 2px solid var(--clr-white);
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

/* --- 5.6 Carrito --- */
.contenedor-carrito {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.carrito-vacio,
.carrito-comprado {
    color: var(--clr-main);
}

/* --- Lista de Productos en el Carrito (AHORA ES GRID) --- */
.carrito-productos {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Dos columnas de igual tamaño */
    gap: 1rem; 
}

.carrito-producto {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--clr-celeste);
    color: var(--clr-main);
    padding: .5rem;
    padding-right: 1.5rem;
    border-radius: 1rem;
}

.carrito-producto-imagen {
    width: 4rem;
    border-radius: 1rem;
}

.carrito-producto small {
    font-size: .75rem;
}

.carrito-producto-eliminar {
    border: 0;
    background-color: transparent;
    color: var(--clr-purple);
    cursor: pointer;
}

.carrito-acciones {
    display: flex;
    justify-content: space-between;
    margin-bottom: 2rem;
}

.carrito-acciones-vaciar {
    border: 0;
    background-color: var(--clr-celeste);
    padding: 1rem;
    border-radius: 1rem;
    color: var(--clr-main);
    text-transform: uppercase;
    cursor: pointer;
}

.carrito-acciones-derecha {
    display: flex;
}

.carrito-acciones-total {
    display: flex;
    background-color: var(--clr-celeste);
    padding: 1rem;
    color: var(--clr-main);
    text-transform: uppercase;
    border-top-left-radius: 1rem;
    border-bottom-left-radius: 1rem;
    gap: 1rem;
}

.carrito-acciones-comprar {
    border: 0;
    background-color: var(--clr-main);
    padding: 1rem;
    color: #48023b00;
    text-transform: uppercase;
    cursor: pointer;
    border-top-right-radius: 1rem;
    border-bottom-right-radius: 1rem;
}

/* --- 5.7 Modales --- */
.modal {
    display: flex;
    justify-content: center;
    align-items: center;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(10, 25, 41, 0.6);
    backdrop-filter: blur(5px);
    animation: fadeIn 0.3s ease-out;
}

.modal-content {
    background-color: var(--clr-white);
    color: var(--clr-main);
    margin: 1rem auto;
    padding: 2.5rem;
    border: none;
    width: 90%;
    max-width: 500px;
    border-radius: 1rem;
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    position: relative;
    animation: slideInFromTop 0.4s ease-out;
}

#modal-title {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    text-align: center;
    color: var(--clr-main);
}

.custom-modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(10, 25, 41, 0.6);
    backdrop-filter: blur(5px);
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s ease-out;
}

.custom-modal-content {
    background-color: var(--clr-white);
    color: var(--clr-main);
    padding: 2rem 2.5rem;
    border-radius: 1rem;
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
    width: 90%;
    max-width: 500px;
    text-align: center;
    position: relative;
    animation: slideInFromTop 0.4s ease-out;
}

.custom-modal-content h2 {
    font-size: 1.8rem;
    margin-bottom: 0.5rem;
}

.custom-modal-content p {
    font-size: 1rem;
    color: #325a8a;
    margin-bottom: 1.5rem;
}

.email-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #f0f8ff;
    border: 2px solid var(--clr-celeste);
    border-radius: .5rem;
    padding: 8px 8px 8px 15px;
    margin-top: 1rem;
}

#email-text, #codigo-cupon, #codigo-cupon-footer {
    font-weight: 500;
    color: var(--clr-purple);
    user-select: all;
}

#copy-email-btn, #copy-cupon-btn, #copy-cupon-footer-btn {
    padding: 8px 15px;
    font-size: 0.8rem;
    background-color: var(--clr-main);
    color: var(--clr-white);
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
    border: none;
    transition: background-color 0.3s;
}

#copy-email-btn:hover, #copy-cupon-btn:hover, #copy-cupon-footer-btn:hover {
    background-color: #325a8a;
}

.custom-close-button {
    position: absolute;
    top: 10px;
    right: 15px;
    color: var(--clr-celeste);
    font-size: 2rem;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.2s ease, transform 0.2s ease;
}

.custom-close-button:hover {
    color: var(--clr-main);
    transform: rotate(90deg);
}

.close-button {
    position: absolute;
    top: 15px;
    right: 15px;
    color: var(--clr-celeste);
    font-size: 2rem;
    font-weight: bold;
    line-height: 1;
    transition: color 0.2s ease, transform 0.2s ease;
}

.close-button:hover,
.close-button:focus {
    color: var(--clr-main);
    text-decoration: none;
    cursor: pointer;
    transform: rotate(90deg);
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideInFromTop {
    from { transform: translateY(-50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* --- 5.8 Formularios y Tablas (Admin, Feedback) --- */
.admin-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 2rem;
    background-color: #fff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    border-radius: 1rem;
    overflow: hidden;
}
.admin-table th, .admin-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid var(--clr-celeste);
}
.admin-table th {
    background-color: var(--clr-main);
    color: var(--clr-white);
}
.admin-table tr:last-child td {
    border-bottom: none;
}
.admin-table tr:hover {
    background-color: #f0f8ff;
}

.feedback-form {
    max-width: 800px;
    margin: 2rem auto;
    padding: 2rem;
    background-color: #fff;
    border-radius: 1rem;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}
.form-group {
    margin-bottom: 1.5rem;
}
.form-group label {
    display: block;
    margin-bottom: .5rem;
    font-weight: 600;
    color: var(--clr-main);
}
.form-group input[type="text"],
.form-group textarea,
.form-group select {
    width: 100%;
    padding: .8rem;
    border: 1px solid var(--clr-celeste);
    border-radius: .5rem;
    font-size: 1rem;
}
.rating-group {
    display: flex;
    justify-content: center;
    gap: .5rem;
    flex-wrap: wrap;
    margin-bottom: 1rem;
}
.rating-group label {
    padding: .8rem 1.2rem;
    border: 1px solid var(--clr-celeste);
    border-radius: 50px;
    cursor: pointer;
    transition: all .2s ease;
}
.rating-group input[type="radio"] {
    display: none;
}
.rating-group input[type="radio"]:checked + label {
    background-color: var(--clr-main);
    color: var(--clr-white);
    border-color: var(--clr-main);
}

#user-form label {
    display: block;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: var(--clr-main);
}

#user-form input, 
#user-form select {
    width: 100%;
    padding: 12px 15px;
    margin-top: 5px;
    box-sizing: border-box;
    border: 2px solid var(--clr-celeste);
    border-radius: .5rem;
    background-color: #f0f8ff;
    font-size: 1rem;
    color: var(--clr-purple);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

#user-form input:focus, 
#user-form select:focus {
    outline: none;
    border-color: var(--clr-main);
    box-shadow: 0 0 0 3px rgba(61, 116, 182, 0.3);
}

#user-form button {
    width: 100%;
    margin-top: 2rem;
    padding: 15px;
    background-color: var(--clr-main);
    color: var(--clr-white);
    border: none;
    border-radius: .5rem;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

#user-form button:hover {
    background-color: #325a8a;
    transform: translateY(-2px);
}

#no-feedback {
    text-align: center;
    margin-top: 2rem;
    font-size: 1.2rem;
    color: #777;
}

/* --- 5.9 Botones y Misceláneos --- */
.btn-ver-perfil, .btn-login, #btn-eliminar-cuenta {
    position: absolute;
    top: 45px;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}
.btn-ver-perfil {
    right: 260px;
    background-color: #1d4ed8;
    color: white;
}
.btn-ver-perfil:hover {
    background-color: #283f7e;
}
.btn-login {
    right: 60px;
    background-color: #1d4ed8;
    color: white;
}
.btn-login:hover {
    background-color: #283f7e;
}
#btn-eliminar-cuenta {
    right: 420px;
    background-color: #bf0f0f;
    color: white;
    padding: 11.5px 20px;
}
#btn-eliminar-cuenta:hover {
    background-color: #611515;
}

.btn-eliminar {
    background: #c0392b;
    border: none;
    color: #fff;
    padding: 6px 10px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s ease;
}
.btn-eliminar:hover {
    background: #a93226;
}

.btn-editar, .btn-eliminar-item {
    padding: .4rem .8rem;
    border-radius: .5rem;
    color: white;
    border: none;
    cursor: pointer;
    margin-right: .5rem;
}
.btn-editar {
    background-color: #3498db;
}
.btn-eliminar-item {
    background-color: #e74c3c;
}
.btn-agregar {
    background-color: #2ecc71;
    color: white;
    padding: .8rem 1.5rem;
    border-radius: .5rem;
    border: none;
    cursor: pointer;
    font-weight: 600;
    margin-bottom: 1.5rem;
    display: inline-flex;
    align-items: center;
    gap: .5rem;
}
.btn-enviar {
    background-color: var(--clr-main);
    color: var(--clr-white);
    padding: .8rem 2rem;
    border: none;
    border-radius: 50px;
    font-weight: 700;
    cursor: pointer;
    font-size: 1rem;
    transition: transform 0.2s ease;
}
.btn-enviar:hover {
    transform: scale(1.05);
}

.toast-close {
    position: absolute;
    top: 10px;
    right: 15px;
    opacity: 0.8;
    font-size: 22px;
}
.toast-close:hover {
    opacity: 1;
}

.holographic-card {
    width: 100%;
    aspect-ratio: 1 / 1;
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    transition: all 0.5s ease;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
}
.holographic-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 15px;
}
.holographic-card h2 {
    color: #0056b3;
    font-size: 2rem;
    position: relative;
    z-index: 2;
}
.holographic-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient( 0deg, transparent, transparent 30%, rgba(55, 0, 255, 0.3) );
    transform: rotate(-45deg);
    transition: all 0.5s ease;
    opacity: 0;
}
.holographic-card:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(0,255,255,0.5);;
}
.holographic-card:hover::before {
    opacity: 1;
    transform: rotate(-45deg) translateY(100%);
}


/* =================================================================== */
/* 6. Media Queries (Diseño Responsivo)
/* =================================================================== */

/* --- 6.1 Vistas Móviles (Tablets y Teléfonos) --- */
@media screen and (max-width: 991.98px) {
    /* Mantenemos el grid original en móvil */
    .wrapper {
        display: grid;
    }
    
    /* Hacemos que el 'aside' móvil tenga scroll si es necesario */
    aside nav {
        flex-grow: 1;
        overflow-y: auto;
        overflow-x: hidden;
    }

    /* Ocultamos botones de login/perfil que están en el 'main' */
    .btn-ver-perfil,
    .btn-login,
    #btn-eliminar-cuenta {
        display: none;
    }
    #btn-iniciar-sesion {
        display: none;
    }
}

@media screen and (max-width: 850px) {
    .contenedor-productos {
        grid-template-columns: 1fr 1fr 1fr;
    }
}

@media screen and (max-width: 768px) {
    .carrito-productos {
        grid-template-columns: 1fr; /* Vuelve a 1 columna en móvil */
    }
    .ovni-deco {
        display: none;
    }
    .carousel {
        height: 250px;
        border-radius: 8px;
    }
}

@media screen and (max-width: 675px) {
    .contenedor-productos {
        grid-template-columns: 1fr 1fr;
    }
}

@media screen and (max-width: 600px) {
    .wrapper {
        min-height: 0vh;
        display: flex;
        flex-direction: column;
    }

    .search-button {
        display: none;
    }
    .search-wrapper {
        min-width: 0; /* O también 'auto' */
    }
    #seccion-pop,
    #seccion-trap {
        display: none !important;
    }
    /* Quitamos los bordes curvos de los botones activos */
    .boton-menu.active::before,
    .boton-menu.active::after {
        display: none;
    }

    main {
        margin: 1rem;
        margin-top: 0;
        padding: 2rem;
    }

    .header-mobile {
        padding: 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .open-menu, .close-menu {
        background-color: transparent;
        color: var(--clr-gray); /* Asegúrate que --clr-gray esté definido o cámbialo */
        color: #444; /* Color de respaldo */
        border: 0;
        font-size: 2rem;
        cursor: pointer;
    }

    .close-menu {
        display: block;
        position: absolute;
        top: 1rem;
        right: 1rem;
    }

    /* Mostramos botones de agregar en móvil */
    .producto .producto-agregar {
        transform: translateY(0);
        opacity: 1;
    }
    .producto-ver-detalles {
        display: none;
    }
    
    .carrito-producto {
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: flex-start;
        padding: .5rem;
    }
    .carrito-producto-subtotal {
        display: none;
    }
    .carrito-acciones {
        flex-wrap: wrap;
        row-gap: 1rem;
    }

    .titulo-principal {
        font-size: 1.5rem;
    }
}

@media (min-width: 601px) {
    /* Efectos hover para botones de producto solo en escritorio */
    .producto-ver-detalles,
    .producto-agregar {
        opacity: 0;
        transform: translateY(10px);
    }
    .producto:hover .producto-ver-detalles,
    .producto:hover .producto-agregar {
        opacity: 1;
        transform: translateY(0);
    }
    .producto-ver-detalles:hover,
    .producto-agregar:hover {
        background-color: var(--clr-main);
        color: var(--clr-white);
    }
}

@media (min-width: 600px) {
    .slide-content p {
        display: block;
    }
}

@media screen and (max-width: 400px) {
    .contenedor-productos {
        grid-template-columns: 1fr 1fr;
    }
}


/* =================================================================== */
/* 7. Media Query Escritorio (Hover Menu)
/* =================================================================== */

@media (min-width: 992px) {

    /* --- 7.1 Anulación de Layout Móvil --- */

    /* Anulamos el 'display: grid' del wrapper */
    .wrapper {
        display: flow-root; /* Previene colapso de márgenes */
    }

    /* Anulamos márgenes globales y aplicamos los de escritorio */
    main {
        grid-column: auto; 
        margin: 1.4rem !important; 
        margin-left: calc(80px + 1.4rem) !important;
        /* Estilos base que se mantienen */
        padding: 3rem;
        border-radius: 2rem;
        background-color: var(--clr-white);
        transition: margin-left .8s cubic-bezier(.785,.135,.15,.86);
    }
    
    /* Anulamos estilos del 'aside' móvil */
    aside {
        padding: 0 !important; 
        position: fixed !important; 
        transform: translateX(0) !important; 
        visibility: visible !important;
        opacity: 1 !important;
        box-shadow: none !important;
        justify-content: flex-start;

        /* --- 7.2 Estado Colapsado (80px) --- */
        top: 0;
        left: 0;
        height: 100vh;
        width: 80px; 
        background: #254E7C; 
        z-index: 2000;
        transition: all .8s cubic-bezier(.785, .135, .15, .86);
        overflow: hidden;
    }

    /* Anulamos estilos de nav móvil */
    aside nav {
        flex-grow: 0 !important;
        overflow: visible !important;
        opacity: 0; /* Oculto por defecto */
        visibility: hidden;
        transition: all 0.4s ease;
    }
    
    ul.menu {
        gap: 0 !important;
    }
    
    /* Ocultamos controles móviles */
    .header-mobile,
    aside .close-menu {
        display: none !important;
    }

    /* --- 7.3 Trigger Visual (Barras y Texto) --- */
    .menu-trigger-visuals {
        position: absolute;
        top: 37%;
        left: 50%;
        transform: translateX(-50%);
        width: 50px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 10; /* Z-index para el trigger */
    }

    .bars {
        display: flex;
        width: 50%;
        align-items: center;
        justify-content: space-between;
    }

    .bars > span {
        width: 4px;
        height: 40px;
        background: #ffffff;
        transition: all .4s ease;
    }

    .menu-text {
        color: #ffffff;
        transform: translateY(50px) rotate(-90deg); /* Visible */
        margin-top: 30px;
        font-weight: bold;
        letter-spacing: .12rem;
        transition: all .4s ease;
        position: absolute;
        opacity: 1; /* Visible */
        font-size: 1.4rem;
        font-family: 'Abel', Helvetica, sans-serif;
    }

    /* --- 7.4 Contenido del Menú (Header, Nav, Footer) --- */
    aside header,
    aside footer {
        opacity: 0; /* Oculto por defecto */
        visibility: hidden;
        transform: translateX(-50px);
        transition: all 0.1s ease;
        padding: 2rem; 
    }

    aside nav ul.menu > li {
        overflow: hidden;
        padding: 5px 0;
    }
    
    aside nav ul.menu > li > .boton-menu {
        background: transparent;
        border: none;
        color: #f9f9ed;
        font-family: 'Abel', Helvetica, sans-serif;
        font-size: 1.5rem;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        width: 300px;
        padding: 10px 25px;
        transform: translateY(0);
        margin-left: 0 !important;
        text-align: left;
    }

    /* Texto de los botones oculto */
    aside nav ul.menu > li > .boton-menu span {
        transform: translateY(calc(100% + 10px));
        transition: transform .6s cubic-bezier(.785, .135, .15, .86);
        display: inline-block;
    }

    aside nav ul.menu > li > .boton-menu i {
        margin-right: 15px;
        font-size: 1.5rem;
        width: 30px;
    }

    /* Estilo Activo */
    aside nav ul.menu > li > .boton-menu.active {
        background: transparent !important;
        color: #22d925 !important;
        border-radius: 0 !important;
    }
    .boton-menu.active::before,
    .boton-menu.active::after {
        display: none !important;
    }

    /* Efecto hover en la lista */
    aside nav ul.menu:hover > li:not(:hover) > .boton-menu {
        color: rgba(249, 249, 237, .5);
    }

    /* --- 7.5 Estado Expandido (Hover) --- */

    aside:hover {
        width: 300px; /* Expande el menú */
        justify-content: space-between;
    }
    
    /* !! AQUÍ ESTÁ EL ARREGLO DEL BUG !! */
    /* Enviamos las barras al fondo (detrás del bg #222) */
    aside:hover .bars {
        z-index: -1;
    }

    /* Animación de las barras al expandir */
    aside:hover .bars > span:first-of-type,
    aside:hover .bars > span:last-of-type {
        transform: translateY(-5px);
        opacity: 0;
    }

    aside:hover .bars > span:nth-of-type(2) {
        transform: scaleY(1.2);
        transform-origin: center bottom;
        opacity: 0;
    }

    /* Ocultamos el texto "MENU" al expandir */
    aside:hover .menu-text {
        transform: translateY(60px) rotate(-90deg);
        opacity: 0;
    }   

    /* Mostramos el contenido (header, nav, footer) al expandir */
    aside:hover header,
    aside:hover footer,
    aside:hover nav {
        opacity: 1;
        visibility: visible;
        transform: translateX(0);
        transition-delay: .4s; /* Espera a que el menú se expanda */
    }

    /* Animamos el texto de los botones para que aparezca */
    aside:hover nav ul.menu > li > .boton-menu span {
        transform: translateY(0);
    }

    /* Delay escalonado para la aparición del texto */
    aside:hover nav ul.menu > li:nth-of-type(1) > .boton-menu span { transition-delay: .1s; }
    aside:hover nav ul.menu > li:nth-of-type(2) > .boton-menu span { transition-delay: .2s; }
    aside:hover nav ul.menu > li:nth-of-type(3) > .boton-menu span { transition-delay: .3s; }
    aside:hover nav ul.menu > li:nth-of-type(4) > .boton-menu span { transition-delay: .4s; }
    aside:hover nav ul.menu > li:nth-of-type(5) > .boton-menu span { transition-delay: .5s; }
    aside:hover nav ul.menu > li:nth-of-type(6) > .boton-menu span { transition-delay: .6s; }
    aside:hover nav ul.menu > li:nth-of-type(7) > .boton-menu span { transition-delay: .7s; }
    aside:hover nav ul.menu > li:nth-of-type(8) > .boton-menu span { transition-delay: .8s; }
}

/* =================================================================== */
/* 8. Estilos Especiales para la Sección POP (Colores CuriSong)
/* =================================================================== */

/* 1. Mantenemos el grid de 3 columnas */
#contenedor-pop {
    grid-template-columns: repeat(3, 1fr);
}

/* 2. Aplicamos el fondo azul CuriSong a la tarjeta */
#contenedor-pop .producto {
    background-color: var(--clr-main); /* <-- FONDO AZUL */
    box-shadow: none; /* Quitamos la sombra clara */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* 3. Aplicamos el hover original holográfico */
#contenedor-pop .producto:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(55, 0, 255, 0.6);
}

/* 4. Mantenemos la imagen rectangular (16:9) */
#contenedor-pop .holographic-card {
    aspect-ratio: 16 / 9;
    background: transparent;
    box-shadow: none;
    border-radius: 1rem 1rem 0 0;
}

/* 5. Quitamos los efectos hover de la tarjeta holográfica */
#contenedor-pop .holographic-card:hover {
    transform: none;
    box-shadow: none;
}

/* 6. Nos aseguramos que la <img> se ajuste */
#contenedor-pop .producto-imagen {
    border-radius: 1rem 1rem 0 0;
}

/* 7. Ajustamos la caja de detalles (fondo transparente, texto claro) */
#contenedor-pop .producto-detalles {
    background-color: transparent;
    color: var(--clr-white); /* <-- TEXTO CLARO */
    margin-top: 0;
    padding: 1rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

/* 8. Ajustamos el info-flex */
#contenedor-pop .producto-info {
    flex-grow: 0;
}

/* 9. Damos estilo al precio (claro) */
#contenedor-pop .producto-precio {
     color: var(--clr-white); /* <-- TEXTO CLARO */
     font-weight: 700;
     font-size: 1.2rem;
     margin-top: 0.5rem;
}

/* 10. Mostramos los botones */
#contenedor-pop .producto-acciones {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    opacity: 1;
    transform: none;
}

/* 11. Aplicamos los colores originales de CuriSong a los botones */

/* Botón "MIRAR" */
#contenedor-pop .producto-ver-detalles {
    background-color: var(--clr-white); /* <-- BOTÓN CLARO */
    color: var(--clr-main); /* <-- TEXTO AZUL */
    border-color: var(--clr-white);
    opacity: 1;
    transform: none;
}
/* Hover del botón "MIRAR" */
#contenedor-pop .producto-ver-detalles:hover {
    background-color: var(--clr-main);
    color: var(--clr-white);
}

/* Botón "CARRITO" */
#contenedor-pop .producto-agregar {
    background-color: var(--clr-white); /* <-- BOTÓN CLARO */
    color: var(--clr-main); /* <-- ICONO AZUL */
    border-color: var(--clr-white);
    opacity: 1;
    transform: none;
}
/* Hover del botón "CARRITO" */
#contenedor-pop .producto-agregar:hover {
    background-color: var(--clr-main);
    color: var(--clr-white);
}


/* =================================================================== */
/* 9. Estilos Especiales para la Sección TRAP (Igual que POP)
/* =================================================================== */

/* 1. Cambiamos el grid de 6 a 3 columnas */
#contenedor-trap { /* <-- Selector cambiado a TRAP */
    grid-template-columns: repeat(3, 1fr);
}

/* 2. Aplicamos el fondo azul CuriSong a la tarjeta */
#contenedor-trap .producto { /* <-- Selector cambiado a TRAP */
    background-color: var(--clr-main);
    box-shadow: none;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* 3. Aplicamos el hover original holográfico */
#contenedor-trap .producto:hover { /* <-- Selector cambiado a TRAP */
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(55, 0, 255, 0.6);
}

/* 4. Mantenemos la imagen rectangular (16:9) */
#contenedor-trap .holographic-card { /* <-- Selector cambiado a TRAP */
    aspect-ratio: 16 / 9;
    background: transparent;
    box-shadow: none;
    border-radius: 1rem 1rem 0 0;
}

/* 5. Quitamos los efectos hover de la tarjeta holográfica */
#contenedor-trap .holographic-card:hover { /* <-- Selector cambiado a TRAP */
    transform: none;
    box-shadow: none;
}

/* 6. Nos aseguramos que la <img> se ajuste */
#contenedor-trap .producto-imagen { /* <-- Selector cambiado a TRAP */
    border-radius: 1rem 1rem 0 0;
}

/* 7. Ajustamos la caja de detalles (fondo transparente, texto claro) */
#contenedor-trap .producto-detalles { /* <-- Selector cambiado a TRAP */
    background-color: transparent;
    color: var(--clr-white);
    margin-top: 0;
    padding: 1rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

/* 8. Ajustamos el info-flex */
#contenedor-trap .producto-info { /* <-- Selector cambiado a TRAP */
    flex-grow: 0;
}

/* 9. Damos estilo al precio (claro) */
#contenedor-trap .producto-precio { /* <-- Selector cambiado a TRAP */
     color: var(--clr-white);
     font-weight: 700;
     font-size: 1.2rem;
     margin-top: 0.5rem;
}

/* 10. Mostramos los botones */
#contenedor-trap .producto-acciones { /* <-- Selector cambiado a TRAP */
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 1rem;
    opacity: 1;
    transform: none;
}

/* 11. Aplicamos los colores originales de CuriSong a los botones */

/* Botón "MIRAR" */
#contenedor-trap .producto-ver-detalles { /* <-- Selector cambiado a TRAP */
    background-color: var(--clr-white);
    color: var(--clr-main);
    border-color: var(--clr-white);
    opacity: 1;
    transform: none;
}
#contenedor-trap .producto-ver-detalles:hover { /* <-- Selector cambiado a TRAP */
    background-color: var(--clr-main);
    color: var(--clr-white);
}

/* Botón "CARRITO" */
#contenedor-trap .producto-agregar { /* <-- Selector cambiado a TRAP */
    background-color: var(--clr-white);
    color: var(--clr-main);
    border-color: var(--clr-white);
    opacity: 1;
    transform: none;
}
#contenedor-trap .producto-agregar:hover { /* <-- Selector cambiado a TRAP */
    background-color: var(--clr-main);
    color: var(--clr-white);
}
/* =================================================================== */
/* 10. ESTILOS MEJORADOS PARA LA PÁGINA DEL CARRITO (Versión Jerárquica)
/* =================================================================== */

/* --- Título Principal --- */
main > .titulo-principal {
    text-align: left; 
    margin-bottom: 2rem; 
}

/* --- Contenedor General del Carrito --- */
.contenedor-carrito {
    display: flex;
    flex-direction: column;
    gap: 1rem; /* <-- Reducimos el espacio entre elementos */
}

/* --- Mensajes (Vacío / Comprado) --- */
.carrito-vacio,
.carrito-comprado {
    color: var(--clr-main); 
    padding: 1.5rem;
    background-color: #e7f3fe; 
    border-radius: 1rem;
    text-align: center;
    font-size: 1.1rem;
}

/* Ocultamos el header (si aún existe en el HTML) */
.carrito-productos-header {
    display: none;
}

/* --- Lista de Productos en el Carrito --- */
/* --- Lista de Productos en el Carrito (AHORA ES GRID) --- */
.carrito-productos {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Dos columnas de igual tamaño */
    gap: 1rem; 
}

/* --- CADA TARJETA DE PRODUCTO (LA NUEVA IDEA) --- */
.carrito-producto {
    display: grid;
    /* Definimos las columnas: [Imagen] [Info de Título] [Subtotal] [Botón] */
    grid-template-columns: 5rem 2fr 5rem 1fr 3rem;
    gap: 1.5rem; /* Espacio entre columnas */
    align-items: center; /* Centra todo verticalmente */
    
    background-color: var(--clr-main); 
    color: var(--clr-white); 
    padding: 1.25rem 1.5rem; /* Un poco más de padding vertical */
    border-radius: 1rem; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.carrito-producto:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 15px rgba(0,0,0,0.15);
}

.carrito-producto-imagen {
    width: 5rem; 
    height: 5rem; 
    border-radius: 0.5rem; 
    object-fit: cover; 
}

/* Contenedor para Título y "math" */
.carrito-producto-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem; /* Espacio entre título y sub-detalle */
    text-align: left;
}

.carrito-producto-titulo {
    font-size: 1.1rem;
    font-weight: 600;
}

/* MODIFICADO: AHORA MUESTRA PRECIO UNITARIO */
.carrito-producto-detalle-math {
    font-size: 0.85rem;
    color: var(--clr-celeste);
    font-weight: 400;
}

.carrito-producto-cantidad {
    display: flex;
    align-items: center;
    justify-content: center; /* Centra el contador */
    gap: 0.5rem; /* Espacio entre botones y número */
}

.cantidad-btn {
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;

    background-color: transparent;
    color: var(--clr-white);
    border: none;
    border-radius: 10%; /* Botones redondos */
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.cantidad-btn:hover {
    background-color: var(--clr-celeste);
}

.cantidad-btn:active {
    transform: scale(0.95);
}

.cantidad-valor {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--clr-white);
    min-width: 2ch; /* Asegura espacio para 2 dígitos */
    text-align: center;
}

/* ------------------------------------- */

/* El Subtotal (número principal) */
.carrito-producto-subtotal {
    font-size: 1.2rem;
    font-weight: 700;
    text-align: right;
}

/* --- Botón Eliminar Producto --- */
.carrito-producto-eliminar {
    border: none;
    background-color: rgba(255, 255, 255, 0.1); 
    color: var(--clr-white);
    width: 3rem; 
    height: 3rem; 
    border-radius: 50%; 
    cursor: pointer;
    font-size: 1.2rem;
    transition: background-color 0.2s ease, color 0.2s ease;

    /* Centrado perfecto del ícono */
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    justify-self: right; 
}

.carrito-producto-eliminar:hover {
    background-color: #e74c3c; 
    color: white;
}


/* =================================================================== */
/* 10.1 ESTILOS BARRA DE ACCIONES (Total y Comprar)
/* =================================================================== */

.carrito-acciones {
    display: flex;
    justify-content: space-between;
    align-items: stretch; 
    background-color: var(--clr-main);
    padding: 1rem;
    border-radius: 1rem;
    margin-top: 1rem; 
}

/* --- Botón Vaciar Carrito --- */
.carrito-acciones-vaciar {
    border: 2px solid var(--clr-white); 
    background-color: transparent;
    padding: 0.8rem 1.5rem;
    border-radius: 0.5rem;
    color: var(--clr-white); 
    text-transform: uppercase;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
}
.carrito-acciones-vaciar:hover {
    background-color: var(--clr-white); 
    color: var(--clr-main); 
}

/* --- Sección Derecha (Total y Comprar) --- */
.carrito-acciones-derecha {
    display: flex;
    align-items: stretch; 
}

/* --- Caja del Total --- */
.carrito-acciones-total {
    display: flex;
    align-items: baseline; 
    background-color: transparent;
    padding: 0 1.5rem; 
    color: var(--clr-white);
    text-transform: uppercase;
    gap: 0.75rem; 
    border-right: 2px solid var(--clr-white); 
    margin-right: 1rem; 
}

.carrito-acciones-total p {
    font-size: 1rem; 
    font-weight: 600;
}
#total {
    font-size: 1.6rem; 
    font-weight: 700;
    color: var(--clr-white);
}

/* --- Botón Comprar Ahora --- */
.carrito-acciones-comprar {
    border: none;
    background-color: var(--clr-white); 
    padding: 0.8rem 2rem;
    color: var(--clr-main); 
    text-transform: uppercase;
    font-weight: 700;
    cursor: pointer;
    border-radius: 0.5rem; 
    transition: background-color 0.2s ease, transform 0.1s ease;
}
.carrito-acciones-comprar:hover {
    background-color: var(--clr-celeste); 
    color: var(--clr-main);
}
.carrito-acciones-comprar:active {
    transform: scale(0.98); 
}

/* =================================================================== */
/* 10.2 AJUSTES RESPONSIVOS DEL CARRITO
/* =================================================================== */

@media screen and (max-width: 768px) {
    
    .carrito-producto {
        /* Apilamos en 2 columnas en móvil: [Imagen] [Info+Subtotal+Botón] */
        grid-template-columns: 5rem 1fr; 
        gap: 0.5rem 1rem;
        padding: 1rem;
    }

    .carrito-producto-info {
        grid-column: 2 / 3;
        grid-row: 1 / 2;
    }

    .carrito-producto-cantidad {
    grid-column: 2 / 3;
    grid-row: 2 / 3;
    justify-content: flex-start; /* Alinea el contador (-, 1, +) a la izquierda */
}

    .carrito-producto-subtotal {
        grid-column: 2 / 3;
        grid-row: 2 / 4;
        text-align: left; /* Alineamos a la izquierda en móvil */
        font-size: 1.1rem;
    }

    .carrito-producto-eliminar {
        grid-column: 2 / 3;
        grid-row: 4 / 5;
        justify-self: left; /* Alineamos a la izquierda */
        width: auto;
        height: auto;
        background: transparent;
        color: var(--clr-white);
        padding: 0;
        border-radius: 0;
        font-size: 1rem;
        width: 100px; /* Damos un ancho fijo */
        justify-content: center;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 0.25rem;
        padding: 0.25rem;
    }
    .carrito-producto-eliminar:hover {
        background-color: #e74c3c;
    }

    /* (El resto de estilos de la barra de acciones ya eran responsivos) */
}

/* --- Acciones del Carrito (Abajo) --- */
.carrito-acciones {
    display: flex;
    justify-content: space-between;
    align-items: stretch; 
    background-color: var(--clr-main); /* <-- CAMBIADO a azul principal */
    padding: 1rem;
    border-radius: 1rem;
    margin-top: 1rem; 
}

/* --- Botón Vaciar Carrito --- */
.carrito-acciones-vaciar {
    border: 2px solid var(--clr-white); /* <-- CAMBIADO a borde blanco */
    background-color: transparent;
    padding: 0.8rem 1.5rem;
    border-radius: 0.5rem;
    color: var(--clr-white); /* <-- CAMBIADO a texto blanco */
    text-transform: uppercase;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
}

.carrito-acciones-vaciar:hover {
    background-color: var(--clr-white); /* <-- CAMBIADO a fondo blanco */
    color: var(--clr-main); /* <-- CAMBIADO a texto azul */
}

/* --- Sección Derecha (Total y Comprar) --- */
.carrito-acciones-derecha {
    display: flex;
    align-items: stretch; 
}

/* --- Caja del Total --- */
.carrito-acciones-total {
    display: flex;
    align-items: center; 
    background-color: transparent;
    padding: 0 1.5rem; 
    color: var(--clr-white); /* <-- CAMBIADO a texto blanco */
    text-transform: uppercase;
    font-weight: 700;
    gap: 0.5rem;
    border-right: 2px solid var(--clr-white); /* <-- CAMBIADO a separador blanco */
    margin-right: 1rem; 
}

#total {
    font-size: 1.2rem; 
}

/* --- Botón Comprar Ahora --- */
.carrito-acciones-comprar {
    border: none;
    background-color: var(--clr-white); /* <-- CAMBIADO a fondo blanco */
    padding: 0.8rem 2rem;
    color: var(--clr-main); /* <-- CAMBIADO a texto azul */
    text-transform: uppercase;
    font-weight: 700;
    cursor: pointer;
    border-radius: 0.5rem; 
    transition: background-color 0.2s ease, transform 0.1s ease;
}

.carrito-acciones-comprar:hover {
    background-color: var(--clr-celeste); /* <-- CAMBIADO a celeste */
    color: var(--clr-main);
}
.carrito-acciones-comprar:active {
    transform: scale(0.98); 
}

/* =================================================================== */
/* 10.3 MEJORA DE TÍTULO DE PÁGINA (Estilo Tarjeta)
/* =================================================================== */

/* 10.3 MEJORA DE TÍTULO DE PÁGINA (Estilo Tarjeta) */
.header-carrito {
    background-color: var(--clr-main); 
    border-radius: 1rem;
    padding: 1.25rem 1.5rem;
    margin-bottom: 2rem; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);

    /* --- AÑADE ESTAS 4 LÍNEAS --- */
    display: flex;
    justify-content: space-between; /* Empuja el texto a la izq. y la imagen a la der. */
    align-items: center; /* Centra verticalmente */
    gap: 1rem; /* Espacio entre el texto y la imagen */
}

/* Nueva regla para la imagen del alien */
.header-carrito-img {
    height: 80px;  /* Ajusta esta altura como prefieras */
    width: auto;   /* El ancho se ajustará automáticamente */
    flex-shrink: 0; /* Evita que la imagen se encoja si el texto es largo */
}

.titulo-principal-carrito {
    color: var(--clr-white); /* Texto blanco */
    font-size: 1.8rem;
    font-weight: 700;
    margin: 0;
    line-height: 1.2;
}

.subtitulo-carrito {
    color: var(--clr-celeste); /* Texto celeste claro */
    font-size: 1rem;
    font-weight: 400;
    margin-top: 0.25rem;
    margin-bottom: 0;
}
/* --- Ajustes Responsivos para Móvil (Opcional pero recomendado) --- */
@media screen and (max-width: 768px) {
    .carrito-producto > div {
        grid-template-columns: 2fr 1fr 1fr 1fr; /* Damos más espacio al título */
        padding: 0 0.5rem;
    }
    .carrito-producto h3 {
        font-size: 0.9rem;
    }
    .carrito-producto small {
        font-size: 0.7rem;
    }
    .carrito-producto-subtotal { /* Ocultamos subtotal si no cabe */
        display: none;
    }
    .carrito-acciones {
        flex-direction: column; /* Apilamos botones en móvil */
        align-items: stretch;
        gap: 1rem;
    }
    .carrito-acciones-derecha {
        justify-content: space-between; /* Espaciamos total y comprar */
    }
    .carrito-acciones-total {
        padding: 0.5rem 1rem;
        margin-right: 0;
        border-right: none;
        justify-content: center; /* Centramos el total */
    }
    .carrito-acciones-comprar {
        padding: 0.8rem 1rem; /* Ajustamos padding */
        text-align: center;
    }
}

/* =================================================================== */
/* 10.4 ESTILOS PARA EL MODAL DE CONFIRMACIÓN
/* =================================================================== */

/* Fondo oscurecido y borroso (Backdrop) */
.modal-backdrop {
    position: fixed; /* Fijo en la pantalla */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente oscuro */
    backdrop-filter: blur(8px); /* Efecto borroso */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000; /* Asegura que esté por encima de todo */
    opacity: 0; /* Empieza invisible */
    visibility: hidden; /* No ocupa espacio ni es interactivo */
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-backdrop.disabled {
    opacity: 0;
    visibility: hidden;
}

.modal-backdrop:not(.disabled) {
    opacity: 1;
    visibility: visible;
}

/* Contenido del Modal (la caja blanca/verde) */
.modal-contenido {
    background-color: #e7f3fe; /* Mismo color claro que el fondo de tu "Tu carrito está vacío." */
    border-radius: 1rem;
    padding: 2rem;
    max-width: 450px; /* Ancho máximo para que no sea enorme */
    width: 90%; /* Se adapta a pantallas más pequeñas */
    text-align: center;
    position: relative; /* Para posicionar el botón de cerrar */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    transform: translateY(-20px); /* Empieza un poco arriba */
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Animación del contenido cuando se muestra el modal */
.modal-backdrop:not(.disabled) .modal-contenido {
    transform: translateY(0); /* Se desliza a su posición final */
    opacity: 1;
}

/* Botón de cerrar (la "X") */
.modal-cerrar {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--clr-main);
    cursor: pointer;
    transition: color 0.2s ease;
}

.modal-cerrar:hover {
    color: #e74c3c; /* Rojo al pasar el mouse */
}

/* Título del Modal */
.modal-titulo {
    color: var(--clr-main);
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

/* Texto del Modal */
.modal-texto {
    color: var(--clr-main-dark); /* Un poco más oscuro que el main */
    font-size: 1rem;
    line-height: 1.5;
    margin-bottom: 2rem;
}

/* Contenedor de los botones de acción */
.modal-acciones {
    display: flex;
    justify-content: center;
    gap: 1rem; /* Espacio entre botones */
}

/* Estilos base para los botones del modal */
.btn-modal {
    padding: 0.8rem 1.5rem;
    border-radius: 0.5rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
    border: none; /* Asegura que no tengan borde por defecto */
}

/* Estilo para el botón "Cancelar" */
.btn-cancelar {
    background-color: #ccc; /* Gris claro */
    color: #333;
}
.btn-cancelar:hover {
    background-color: #bbb;
}

/* Estilo para el botón "Sí, vaciar" */
.btn-confirmar {
    background-color: #e74c3c; /* Rojo para confirmar acción destructiva */
    color: white;
}
.btn-confirmar:hover {
    background-color: #c0392b; /* Rojo más oscuro al pasar el mouse */
}

/* =================================================================== */
/* 10.5 ESTILOS PARA MODAL DE PAGO (Formulario)
/* =================================================================== */

.modal-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
    text-align: left;
}

.form-grupo {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-grupo label {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--clr-main);
}

.form-grupo input {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid var(--clr-celeste);
    border-radius: 0.5rem;
    background-color: #fff;
    color: var(--clr-main);
    font-size: 1rem;
    font-weight: 500;
    box-sizing: border-box; /* Asegura que el padding no rompa el ancho */
}

.form-grupo input:focus {
    outline: none;
    border-color: var(--clr-main);
    box-shadow: 0 0 0 3px rgba(61, 116, 182, 0.3);
}

/* Fila para poner Expiración y CVV juntos */
.form-fila {
    display: flex;
    gap: 1rem;
}
.form-fila .form-grupo {
    flex: 1; /* Ocupan el mismo espacio */
}

@media screen and (max-width: 500px) {
     .carrito-producto > div {
        grid-template-columns: 1fr; /* Apilamos todo en columna */
        text-align: left; /* Alineamos a la izquierda */
        gap: 0.3rem;
    }
    .carrito-producto h3 {
         text-align: left;
    }
     .carrito-producto-subtotal {
        display: block; /* Mostramos subtotal de nuevo */
    }
}

/* =================================================================== */
/* 11. Correcciones Específicas para carrito.html
/* =================================================================== */

/* --- Desactivar Menú Hover en Carrito (Escritorio) --- */
@media (min-width: 992px) {
    /* Seleccionamos el body con la clase específica */
    body.carrito-page .wrapper {
        display: flex !important; /* Restauramos el grid original */
        grid-template-columns: 1fr 4fr !important;
    }

    body.carrito-page aside {
        /* Restauramos estilos originales del aside */
        position: sticky !important;
        width: 250px !important; /* <-- Ancho fijo para el aside */
        flex-shrink: 0; /* <-- Evita que se encoja */
        height: 100vh !important;
        background-color: var(--clr-main) !important; /* Fondo azul original */
        padding: 2rem !important; /* Padding original */
        padding-right: 0 !important;
        color: var(--clr-white) !important;
        display: flex !important;
        flex-direction: column !important;
        justify-content: space-between !important;
        overflow: visible !important; /* Quitamos el hidden */
        z-index: auto !important; /* Z-index normal */
    }

     /* Ocultamos los elementos visuales del menú hover si existieran */
    body.carrito-page .menu-trigger-visuals {
        display: none !important;
    }

    /* Restauramos estilos originales de main */
    body.carrito-page main {
        margin: 1rem !important; /* Margen original */
        margin-left: 0 !important; /* Quitamos el margen izquierdo extra */
        grid-column: auto !important; /* Quitamos la expansión de columna */
        flex-grow: 1;
    }

    /* Restauramos estilos de los botones del menú */
    body.carrito-page aside nav ul li .boton-menu {
        font-family: 'Rubik', sans-serif !important; /* Fuente original */
        font-size: 1.2rem !important;
        text-transform: none !important; /* Quitamos mayúsculas */
        width: 100% !important;
        padding: 1rem !important; /* Padding original */
        margin-left: 1rem !important; /* Margen original */
        text-align: left !important;
        color: var(--clr-white) !important;
    }

    /* Restauramos estilo del botón activo */
    body.carrito-page aside nav ul li .boton-menu.active {
        background-color: var(--clr-white) !important;
        color: var(--clr-main) !important;
        border-top-left-radius: 1rem !important;
        border-bottom-left-radius: 1rem !important;
    }
     /* Restauramos los ::before y ::after del botón activo */
    body.carrito-page .boton-menu.active::before,
    body.carrito-page .boton-menu.active::after {
        display: block !important; /* Los volvemos a mostrar */
        /* (El CSS original ya define su estilo) */
    }

     /* Restauramos estilos del header y footer del aside */
     body.carrito-page aside header,
     body.carrito-page aside footer {
        opacity: 1 !important;
        visibility: visible !important;
        transform: none !important;
        padding: 0 !important; /* Padding original */
     }
      body.carrito-page aside nav {
         opacity: 1 !important;
         visibility: visible !important;
         transform: none !important;
      }
}

/* =================================================================== */
/* 12. ESTILOS DEL NUEVO BUSCADOR DE GÉNEROS
/* =================================================================== */

/* 1. Ocultamos el <select> original */
.filtro-genero-oculto {
    display: none; 
}

/* 2. Hacemos el wrapper 'relativo' para anclar el dropdown */
.filtro-wrapper {
    position: relative; /* Clave para posicionar la lista */
    /* Mantenemos los estilos que ya tenía (borde, flex, etc) */
}

/* 3. Estilos del NUEVO botón-dropdown */
.filtro-btn-custom {
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    padding: 0 10px 0 15px; /* Ajustamos el padding izquierdo */
    height: 100%; /* Ocupa la altura del contenedor */
    transition: background-color 0.2s ease;
}

.filtro-btn-custom:hover {
    background-color: rgba(0,0,0,0.03);
    border-radius: 50px 0 0 50px;
}

.filtro-texto-seleccion {
    font-family: 'Rubik', sans-serif;
    font-size: 14px;
    color: #555;
    font-weight: 500;
    margin-right: 8px;
    white-space: nowrap; /* Evita que el texto se parta */
    max-width: 100px; /* Ancho máximo para el texto */
    overflow: hidden;
    text-overflow: ellipsis; /* Añade '...' si el texto es muy largo */
}

.filtro-btn-icono {
    color: #999;
    font-size: 1rem; /* Un poco más pequeño */
    transition: transform 0.3s ease;
}

/* Gira la flecha cuando el menú está activo */
.filtro-btn-custom.active .filtro-btn-icono {
    transform: rotate(180deg);
}

/* 4. Estilos de la NUEVA lista desplegable */
.filtro-lista-custom {
    display: none; /* Oculta por defecto */
    position: absolute;
    top: 120%; /* Justo debajo del search-container */
    left: 0;
    background-color: rgb(71, 138, 196);
    border: 1px solid #ddd;
    border-radius: 1rem; /* Mantenemos el estilo CuriSong */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    padding: 0.5rem;
    z-index: 100;
    min-width: 200px;
    max-height: 300px;
    overflow-y: auto;
    animation: fadeIn 0.2s ease-out; /* Animación sutil */
}

/* Mostrar la lista */
.filtro-lista-custom.active {
    display: block;
}

.filtro-lista-custom li {
    padding: 0.75rem 1rem;
    font-size: 14px;
    color: #333;
    cursor: pointer;
    border-radius: 0.5rem;
    transition: background-color 0.2s ease;
    white-space: nowrap;
}

.filtro-lista-custom li:hover {
    background-color: #f0f8ff; /* Azul claro CuriSong */
    color: var(--clr-main);
}

/* 5. Ocultamos el icono de música original que ya no necesitamos */
.filtro-wrapper > i.bi-music-note-list {
    display: none;
}


/* --- Clase de utilidad para accesibilidad --- */
.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    margin: -1px;
    padding: 0;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

/* =================================================================== */
/* 13. Animación de Scroll (Fade-in)
/* =================================================================== */

/*
 * 1. Estado Inicial (Oculto)
 * Esta es la clase que añadimos en JS (.producto-animar).
 * El producto empieza invisible y ligeramente desplazado hacia abajo.
 */
.producto-animar {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

/*
 * 2. Estado Final (Visible)
 * Esta clase (.producto-visible) la añade el Intersection Observer
 * cuando el producto entra en la pantalla.
 */
.producto-animar.producto-visible {
    opacity: 1;
    transform: translateY(0);
}

/* Estilo para Desktop: Muestra el texto "MENU" desde 768px en adelante */
@media (min-width: 768px) {
    .menu-text {
        display: block; /* O 'inline', 'flex', etc., según tu layout */
    }
}